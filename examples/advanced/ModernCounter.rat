proc ModernCounter(initial) {
    state: initial,
    receive {
        | :preInc -> state = state + 1
        | :postInc -> state = state + 1
        | :preDec -> state = state - 1
        | :postDec -> state = state - 1
        | (:get, sender) -> sender <- state
    }
}

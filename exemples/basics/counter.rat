proc Counter(initial) {
    state: initial,
    receive {
        | :increment -> state = state + 1
        | :decrement -> state = state - 1
        | :get(sender) -> sender <- state
        | :reset -> state = 0
    }
}

let counter = spawn Counter(0)
counter <- :increment
counter <- :increment
counter <- :get(self)

receive {
    | value -> print("Counter value: " ++ value)
}